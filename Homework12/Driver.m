p0 = [-2;-2;0];
p1 =[0;-1;0];
p2 =[-1;1;0];
p3 =[-0.75;-1;0];
p4 = [-0.90;-1;0.05;];
p5 = [-1.10;-1.1;0.9;];
p6 = [0.099;-1.1;0.9;];
p7 = [-0.25;-1.01;0.03];
p8 = [-0.73;-1.02;-0.00];

c = [4;4;4];
c1 = [2;1;1];
c2 = [1/2;1/2;1/2;];
c3 = [4/5;4/5;4/5;];
c4 = [1.2;2.15;1.05];
c5 = [1/1.50;0.05;1];
c6 = [1/10;0.25;0];


S = scale(c);
S1 = scale(c1);
S2= scale(c2);
S3 = scale(c3);
S4 = scale(c4);
S5 = scale(c5);
S6 = scale(c6);

T = trans(p0);
T1 = trans(p1);
T2 = trans(p2);
T3 = trans(p3);
T4 = trans(p4);
T5 = trans(p5);
T6 = trans(p6);
T7 = trans(p7);
T8 = trans(p8);


R = rotate(pi/2,1);
R1 = rotate(pi/2,3);
R2 = rotate(pi/2,1);
R3 = rotate(-pi/4,2);
R4 = rotate(5*pi/4,2);
G = repsquare();
P = reppentagon();

LeftSide =R1*(R*(S1*G));
RightSide = T1*(LeftSide);
Front = R2*P;
Back = T2 * Front;
Door1 = T3*(R*(S2*G));
Door2 = T4*(S3*(Door1));
Lroof = T5*(R3*(S4*G));
Rroof = T6*(R4*(S4*G));
cross1 = (T7*(R4*(R*(S5*G))));
cross2 = T8*(R3*(R*(S5*G)));
Fence = T9*(R*(S6*P));
Fence1 = T10*(R*(S6*P));
Fence2 = T11*(R*(S6*P));
Fence3 = T12*(R*(S6*P));
Fence4 = T13*(R*(S6*P));

A(:,:,1) = [-1.5;-1.5;0;];
A(:,:,2) = [-1.4;-1.5;0;];
A(:,:,3) = [-1.3;-1.5;0;];
A(:,:,4) = [-1.2;-1.5;0;];
A(:,:,5) = [-1.1;-1.5;0;];
A(:,:,6) = [.0;-1.5;0;];
A(:,:,7) = [.1;-1.5;0;];
A(:,:,8) = [.2;-1.5;0;];
A(:,:,9) = [.3;-1.5;0;];
A(:,:,10) = [.4;-1.5;0;];
A(:,:,11) = [.5;-1.5;0;];
A(:,:,12) = [-1.5;1.5;0;];
A(:,:,13) = [-1.4;1.5;0;];
A(:,:,14) = [-1.3;1.5;0;];
A(:,:,15) = [-1.2;1.5;0;];
A(:,:,16) = [-1.1;1.5;0;];
A(:,:,17) = [.0;1.5;0;];
A(:,:,18) = [.1;1.5;0;];
A(:,:,19) = [.2;1.5;0;];
A(:,:,20) = [.3;1.5;0;];
A(:,:,21) = [.4;1.5;0;];
A(:,:,22) = [.5;1.5;0;];
A(:,:,23) = [-.9;1.5;0;];
A(:,:,24) = [-.8;1.5;0;];
A(:,:,25) = [-.7;1.5;0;];
A(:,:,26) = [-.6;1.5;0;];
A(:,:,27) = [-.5;1.5;0;];
A(:,:,28) = [-.4;1.5;0;];
A(:,:,29) = [-.3;1.5;0;];
A(:,:,30) = [-.2;1.5;0;];
A(:,:,31) = [-.1;1.5;0;];
A(:,:,32) = [-1;1.5;0;];


 for i = 1:32
     fence = trans(A(:,:,i))*(R*(S6*P));
     drawshape(fence, 'w');
 end
 
A(:,:,12) = [-1.5;-1.5;0;];
A(:,:,13) = [-1.5;-1.4;0;];
A(:,:,14) = [-1.5;-1.3;0;];
A(:,:,15) = [-1.5;-1.2;0;];
A(:,:,16) = [-1.5;-1.1;0;];
A(:,:,17) = [-1.5;1;0;];
A(:,:,18) = [-1.5;.9;0;];
A(:,:,19) = [-1.5;.8;0;];
A(:,:,20) = [-1.5;.7;0;];
A(:,:,21) = [-1.5;.6;0;];
A(:,:,22) = [-1.5;0;0;];
A(:,:,23) = [-1.5;.1;0;];
A(:,:,24) = [-1.5;.2;0;];
A(:,:,25) = [-1.5;.3;0;];
A(:,:,26) = [-1.5;.4;0;];
A(:,:,27) = [-1.5;.5;0;];
A(:,:,28) = [-1.5;-.9;0;];
A(:,:,29) = [-1.5;-.8;0;];
A(:,:,30) = [-1.5;-.7;0;];
A(:,:,31) = [-1.5;-.6;0;];
A(:,:,32) = [-1.5;0;0;];
A(:,:,33) = [-1.5;-.1;0;];
A(:,:,34) = [-1.5;-.2;0;];
A(:,:,35) = [-1.5;-.3;0;];
A(:,:,36) = [-1.5;-.4;0;];
A(:,:,37) = [-1.5;-.5;0;];
A(:,:,38) = [-1.5;-1;0;];
A(:,:,39) = [-1.5;1.5;0;];
A(:,:,40) = [-1.5;1.4;0;];
A(:,:,41) = [-1.5;1.3;0;];
A(:,:,42) = [-1.5;1.2;0;];
A(:,:,43) = [-1.5;1.1;0;];


 
  for i = 12:43
      fence = trans(A(:,:,i))*(R1*((R*(S6*P))));
    drawshape(fence, 'w');
  end

A(:,:,44) = [.5;-1.5;0;];
A(:,:,45) = [.5;-1.4;0;];
A(:,:,46) = [.5;-1.3;0;];
A(:,:,47) = [.5;-1.2;0;];
A(:,:,48) = [.5;-1.1;0;];
A(:,:,49) = [.5;1;0;];
A(:,:,50) = [.5;.9;0;];
A(:,:,51) = [.5;.8;0;];
A(:,:,52) = [.5;.7;0;];
A(:,:,53) = [.5;.6;0;];
A(:,:,54) = [.5;0;0;];
A(:,:,55) = [.5;.1;0;];
A(:,:,56) = [.5;.2;0;];
A(:,:,57) = [.5;.3;0;];
A(:,:,58) = [.5;.4;0;];
A(:,:,59) = [.5;.5;0;];
A(:,:,60) = [.5;-.9;0;];
A(:,:,61) = [.5;-.8;0;];
A(:,:,62) = [.5;-.7;0;];
A(:,:,63) = [.5;-.6;0;];
A(:,:,64) = [.5;0;0;];
A(:,:,65) = [.5;-.1;0;];
A(:,:,66) = [.5;-.2;0;];
A(:,:,67) = [.5;-.3;0;];
A(:,:,68) = [.5;-.4;0;];
A(:,:,69) = [.5;-.5;0;];
A(:,:,70) = [.5;-1;0;];
A(:,:,71) = [.5;1.5;0;];
A(:,:,72) = [.5;1.4;0;];
A(:,:,73) = [.5;1.3;0;];
A(:,:,74) = [.5;1.2;0;];
A(:,:,75) = [.5;1.1;0;];

for i = 44:75
    fence = trans(A(:,:,i))*(R1*((R*(S6*P))));
    drawshape(fence, 'w');
end
%Drawing the Barn

drawshape(Grass, 'g');
drawshape(LeftSide,'r');
drawshape(RightSide,'r');
drawshape(Front, 'r');
drawshape(Back, 'r');
drawshape(Door1, 'w');
drawshape(Door2, 'r');
drawshape(Lroof, 'k');
drawshape(Rroof, 'k');
drawshape(cross1, 'w');
drawshape(cross2, 'w');








grid on;
 axis([-0.5 1.5 -0.5 2.5 0 1.5]);

 